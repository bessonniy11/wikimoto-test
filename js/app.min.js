(() => {
    "use strict";

    function e(e) {
        this.type = e
    }
    e.prototype.init = function () {
        const e = this;
        this.оbjects = [], this.daClassname = "_dynamic_adapt_", this.nodes = document.querySelectorAll("[data-da]");
        for (let e = 0; e < this.nodes.length; e++) {
            const t = this.nodes[e],
                n = t.dataset.da.trim().split(","),
                o = {};
            o.element = t, o.parent = t.parentNode, o.destination = document.querySelector(n[0].trim()), o.breakpoint = n[1] ? n[1].trim() : "767", o.place = n[2] ? n[2].trim() : "last", o.index = this.indexInParent(o.parent, o.element), this.оbjects.push(o)
        }
        this.arraySort(this.оbjects), this.mediaQueries = Array.prototype.map.call(this.оbjects, (function (e) {
            return "(" + this.type + "-width: " + e.breakpoint + "px)," + e.breakpoint
        }), this), this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, (function (e, t, n) {
            return Array.prototype.indexOf.call(n, e) === t
        }));
        for (let t = 0; t < this.mediaQueries.length; t++) {
            const n = this.mediaQueries[t],
                o = String.prototype.split.call(n, ","),
                i = window.matchMedia(o[0]),
                r = o[1],
                l = Array.prototype.filter.call(this.оbjects, (function (e) {
                    return e.breakpoint === r
                }));
            i.addListener((function () {
                e.mediaHandler(i, l)
            })), this.mediaHandler(i, l)
        }
    }, e.prototype.mediaHandler = function (e, t) {
        if (e.matches)
            for (let e = 0; e < t.length; e++) {
                const n = t[e];
                n.index = this.indexInParent(n.parent, n.element), this.moveTo(n.place, n.element, n.destination)
            } else
                for (let e = t.length - 1; e >= 0; e--) {
                    const n = t[e];
                    n.element.classList.contains(this.daClassname) && this.moveBack(n.parent, n.element, n.index)
                }
    }, e.prototype.moveTo = function (e, t, n) {
        t.classList.add(this.daClassname), "last" === e || e >= n.children.length ? n.insertAdjacentElement("beforeend", t) : "first" !== e ? n.children[e].insertAdjacentElement("beforebegin", t) : n.insertAdjacentElement("afterbegin", t)
    }, e.prototype.moveBack = function (e, t, n) {
        t.classList.remove(this.daClassname), void 0 !== e.children[n] ? e.children[n].insertAdjacentElement("beforebegin", t) : e.insertAdjacentElement("beforeend", t)
    }, e.prototype.indexInParent = function (e, t) {
        const n = Array.prototype.slice.call(e.children);
        return Array.prototype.indexOf.call(n, t)
    }, e.prototype.arraySort = function (e) {
        "min" === this.type ? Array.prototype.sort.call(e, (function (e, t) {
            return e.breakpoint === t.breakpoint ? e.place === t.place ? 0 : "first" === e.place || "last" === t.place ? -1 : "last" === e.place || "first" === t.place ? 1 : e.place - t.place : e.breakpoint - t.breakpoint
        })) : Array.prototype.sort.call(e, (function (e, t) {
            return e.breakpoint === t.breakpoint ? e.place === t.place ? 0 : "first" === e.place || "last" === t.place ? 1 : "last" === e.place || "first" === t.place ? -1 : t.place - e.place : t.breakpoint - e.breakpoint
        }))
    };
    new e("max").init();
    let t = (e, t = 500, n = 0) => {
            e.classList.contains("_slide") || (e.classList.add("_slide"), e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = `${e.offsetHeight}px`, e.offsetHeight, e.style.overflow = "hidden", e.style.height = n ? `${n}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, window.setTimeout((() => {
                e.hidden = !n, !n && e.style.removeProperty("height"), e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), !n && e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide")
            }), t))
        },
        n = (e, t = 500, n = 0) => {
            if (!e.classList.contains("_slide")) {
                e.classList.add("_slide"), e.hidden = !e.hidden && null, n && e.style.removeProperty("height");
                let o = e.offsetHeight;
                e.style.overflow = "hidden", e.style.height = n ? `${n}px` : "0px", e.style.paddingTop = 0, e.style.paddingBottom = 0, e.style.marginTop = 0, e.style.marginBottom = 0, e.offsetHeight, e.style.transitionProperty = "height, margin, padding", e.style.transitionDuration = t + "ms", e.style.height = o + "px", e.style.removeProperty("padding-top"), e.style.removeProperty("padding-bottom"), e.style.removeProperty("margin-top"), e.style.removeProperty("margin-bottom"), window.setTimeout((() => {
                    e.style.removeProperty("height"), e.style.removeProperty("overflow"), e.style.removeProperty("transition-duration"), e.style.removeProperty("transition-property"), e.classList.remove("_slide")
                }), t)
            }
        },
        o = !0,
        i = (e = 500) => {
            let t = document.querySelector("body");
            if (o) {
                let n = document.querySelectorAll("[data-lp]");
                setTimeout((() => {
                    for (let e = 0; e < n.length; e++) {
                        n[e].style.paddingRight = "0px"
                    }
                    t.style.paddingRight = "0px", document.documentElement.classList.remove("lock")
                }), e), o = !1, setTimeout((function () {
                    o = !0
                }), e)
            }
        },
        r = (e = 500) => {
            let t = document.querySelector("body");
            if (o) {
                let n = document.querySelectorAll("[data-lp]");
                for (let e = 0; e < n.length; e++) {
                    n[e].style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px"
                }
                t.style.paddingRight = window.innerWidth - document.querySelector(".wrapper").offsetWidth + "px", document.documentElement.classList.add("lock"), o = !1, setTimeout((function () {
                    o = !0
                }), e)
            }
        };
    
    
    
    // $(window).on('load resize', function () {
    //     // Берём текущую ширину экрана
    //     var windowWidth = $(this).innerWidth();
    //     let parallaxT = true;
        
        

    // });

    let windowWidth = $(window).innerWidth();
    let maxMainSlider = 768
    let parallaxStatus = true;
    if (windowWidth <= maxMainSlider) {
        parallaxStatus = false;
    }
    
    new Swiper(".main-slider", {
        autoplay: {
            delay: 3000,
            disableOnInteraction: !1
        },
        observeParents: !0,
        slidesPerView: 1,
        spaceBetween: 0,
        watchOverflow: true,
        parallax: parallaxStatus,
        speed: 800,
        loop: !0,
        navigation: {
            nextEl: "._icon-right-chevron",
            prevEl: "._icon-left-chevron"
        },

    }), new Swiper(".body-new-catalog__items", {
        observeParents: !0,
        slidesPerView: 4,
        spaceBetween: 40,
        speed: 800,
        // loop: !0,
        navigation: {
            nextEl: ".header-catalog__control-r",
            prevEl: ".header-catalog__control-l"
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 0
            },
            768: {
                slidesPerView: 3,
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 0
            },
            1268: {
                slidesPerView: 4,
                spaceBetween: 0
            }
        }
    }), new Swiper(".body-cheaper-catalog__items", {
        observeParents: !0,
        slidesPerView: 4,
        spaceBetween: 0,
        speed: 800,
        // loop: !0,
        navigation: {
            nextEl: ".cheaper-catalog__control-r",
            prevEl: ".cheaper-catalog__control-l"
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 0
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 0
            },
            1268: {
                slidesPerView: 4,
                spaceBetween: 0
            }
        }
    }), new Swiper(".body-new-catalog__items1", {
        observeParents: !0,
        slidesPerView: 4,
        spaceBetween: 0,
        speed: 800,
        // loop: !0,
        navigation: {
            prevEl: ".product__control-l1",
            nextEl: ".product__control-r1"
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 0
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 0
            },
            1268: {
                slidesPerView: 4,
                spaceBetween: 0
            }
        }
    }), new Swiper(".body-new-catalog__items2", {
        observeParents: !0,
        slidesPerView: 4,
        spaceBetween: 0,
        speed: 800,
        // loop: !0,
        navigation: {
            prevEl: ".product__control-l2",
            nextEl: ".product__control-r2"
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 0
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 0
            },
            1268: {
                slidesPerView: 4,
                spaceBetween: 0
            }
        }
    }), new Swiper(".body-new-catalog__items3", {
        observeParents: !0,
        slidesPerView: 4,
        spaceBetween: 0,
        speed: 800,
        // loop: !0,
        navigation: {
            prevEl: ".product__control-l3",
            nextEl: ".product__control-r3"
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
                spaceBetween: 0
            },
            768: {
                slidesPerView: 3
            },
            992: {
                slidesPerView: 3,
                spaceBetween: 0
            },
            1268: {
                slidesPerView: 4,
                spaceBetween: 0
            }
        }
    });


    var catalogSlider = null;
    var mediaQuerySize = 440;

    function catalogSliderInit() {
        if (!catalogSlider) {
            new Swiper(".main-catalog__body", {
                observeParents: !0,
                slidesPerView: 1,
                spaceBetween: 0,
                speed: 800,
                loop: !0,
                direction: 'horizontal',
                pagination: {
                    el: ".swiper-pagination",
                    clickable: !0,
                    type: "bullets",
                    renderBullet: function (e, t) {
                        return '<span class="' + t + '">' + (e + 1) + "</span>"
                    }
                },
                navigation: {
                    nextEl: ".header-catalog__slide-r",
                    prevEl: ".header-catalog__slide-l"
                },
            });
        }
    }
    function catalogSliderDestroy () {
    if (catalogSlider) {
        catalogSlider.destroy();
        catalogSlider = null;
        }
    }
    $(window).on('load resize', function () {
        // Берём текущую ширину экрана
        var windowWidth = $(this).innerWidth();
        
        // Если ширина экрана меньше или равна mediaQuerySize(440)
        if (windowWidth >= mediaQuerySize) {
            // Инициализировать слайдер если он ещё не был инициализирован
            catalogSliderInit()
        } else {
            // Уничтожить слайдер если он был инициализирован
            catalogSliderDestroy()
        }
    });

    var l = new Swiper(".mySwiper", {
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: !0,
        watchSlidesProgress: !0,
        navigation: {
            nextEl: ".slider-photos__r",
            prevEl: ".slider-photos__l"
        }
    });
    new Swiper(".mySwiper2", {
        spaceBetween: 10,
        slidesPerView: 1,
        navigation: {
            nextEl: ".slider-main2__r",
            prevEl: ".slider-main2__l"
        },
        thumbs: {
            swiper: l
        }
    });
    let s = !1;
    setTimeout((() => {
        if (s) {
            let e = new Event("windowScroll");
            window.addEventListener("scroll", (function (t) {
                document.dispatchEvent(e)
            }))
        }
    }), 0);
    // let a = document.querySelector(".form-header__btn");
    // a && a.addEventListener("click", (function (e) {
    //     e.preventDefault(), document.querySelector(".form-header__input").classList.toggle("open")
    // }));
    let c = document.querySelector(".spares-link");
    if (c) {
        c.addEventListener("click", (function (e) {
            
            e.preventDefault(), document.querySelector(".menu__mobile-spares").classList.add("open")
            let menuMobile = document.querySelector('.menu__mobile');
            let menuMobileSpares = document.querySelector('.spares-mobile');
            if (menuMobileSpares.classList.contains('open')) {
                menuMobile.classList.add('open')
            }

        })), document.querySelector(".back-mobile").addEventListener("click", (function (e) {
            let menuMobile = document.querySelector('.menu__mobile');
            let menuMobileSpares = document.querySelector('.spares-mobile');
            e.preventDefault(), document.querySelector(".menu__mobile-spares").classList.remove("open");
            menuMobile.classList.remove('open')
        }))
    }
    $(".polzunok-5").slider({
        min: 0,
        max: 250000,
        values: [0, 250000],
        range: !0,
        animate: "fast",
        slide: function (e, t) {
            $(".polzunok-input-left").val(t.values[0]), $(".polzunok-input-right").val(t.values[1])
        }
    }), $(".polzunok-input-left").val($(".polzunok-5").slider("values", 0)), $(".polzunok-input-right").val($(".polzunok-5").slider("values", 1)), $(".polzunok-container-5 input").change((function () {
        var e = $(".polzunok-input-left").val().replace(/[^0-9]/g, ""),
            t = $(".polzunok-5").slider("option", "min"),
            n = $(".polzunok-5").slider("values", 1),
            o = $(".polzunok-input-right").val().replace(/[^0-9]/g, ""),
            i = $(".polzunok-5").slider("option", "max"),
            r = $(".polzunok-5").slider("values", 0);
        e > n && (e = n), e < t && (e = t), "" == e && (e = 0), o < r && (o = r), o > i && (o = i), "" == o && (o = 0), $(".polzunok-input-left").val(e), $(".polzunok-input-right").val(o), e != r && $(".polzunok-5").slider("values", 0, e), o != n && $(".polzunok-5").slider("values", 1, o)
    }));
    // let d = document.querySelector(".polzunok-input-left");
    // d && (d.addEventListener("focus", (function () {
    //     d.classList.add("polzunok-input-5-left")
    // })), d.addEventListener("blur", (function () {
    //     d.classList.remove("polzunok-input-5-left")
    // })));
    // let p = document.querySelector(".polzunok-input-right");
    // p && (p.addEventListener("focus", (function () {
    //     p.classList.add("polzunok-input-5-right")
    // })), p.addEventListener("blur", (function () {
    //     p.classList.remove("polzunok-input-5-right")
    // })));
    
    let u = document.querySelector(".sidebar-open-btn");
    u && u.addEventListener("click", (function (e) {
        e.preventDefault(), document.querySelector(".menu__sidebar").classList.add("active")
        e.preventDefault(), document.querySelector(".shadow-filter").classList.add("active")
        e.preventDefault(), document.querySelector("body").classList.add("lock")
    }));
    let m = document.querySelector(".sidebar-popup__close");
    m && m.addEventListener("click", (function (e) {
        e.preventDefault(), document.querySelector(".menu__sidebar").classList.remove("active")
        e.preventDefault(), document.querySelector(".shadow-filter").classList.remove("active")
        e.preventDefault(), document.querySelector("body").classList.remove("lock")
    }));
    let z = document.querySelector(".shadow-filter");
    z && z.addEventListener("click", (function (e) {
        e.preventDefault(), document.querySelector(".menu__sidebar").classList.remove("active")
        e.preventDefault(), document.querySelector(".shadow-filter").classList.remove("active")
        e.preventDefault(), document.querySelector("body").classList.remove("lock")
    }));
    let h = document.querySelector(".sidebar__btn-close");
    h && h.addEventListener("click", (function (e) {
        e.preventDefault(), document.querySelector(".menu__sidebar").classList.remove("active")
        e.preventDefault(), document.querySelector(".shadow-filter").classList.remove("active")
        e.preventDefault(), document.querySelector("body").classList.remove("lock")
    }));
    let q = document.querySelector(".sidebar__btn-main");
    q && q.addEventListener("click", (function (e) {
        e.preventDefault(), document.querySelector(".menu__sidebar").classList.remove("active")
        e.preventDefault(), document.querySelector(".shadow-filter").classList.remove("active")
        e.preventDefault(), document.querySelector("body").classList.remove("lock")
    }));
    let f = document.querySelectorAll(".sizes"),
        v = document.querySelectorAll(".sizes__item-null"),
        y = document.querySelector(".size-product");
    for (let e = 0; e < f.length; e++) {
        let t = f[e].querySelectorAll(".sizes__item");
        for (let e = 0; e < t.length; e++) {
            let n = t[e];
            n != v && n.addEventListener("click", (function (e) {
                for (let e = 0; e < t.length; e++) {
                    t[e].classList.remove("active")
                }
                n.classList.add("active"), y.textContent = n.textContent, e.preventDefault()
            }))
        }
    }
    let g = document.querySelectorAll(".general-color__rounds"),
        _ = document.querySelector(".general-color__name .general-color");
    for (let e = 0; e < g.length; e++) {
        let t = g[e].querySelectorAll(".general-color__round");
        for (let e = 0; e < t.length; e++) {
            let n = t[e];
            n && n.addEventListener("click", (function (e) {
                for (let e = 0; e < t.length; e++) {
                    t[e].classList.remove("active")
                }

                n.classList.add("active");
                let o = n.querySelector(".color__round-hidden");
                _.textContent = o.textContent, e.preventDefault()
            }))
        }
    }
    let w = document.querySelectorAll(".ramm-color__rounds"),
        b = document.querySelector(".ramm-color__name .ramm-color");
    for (let e = 0; e < w.length; e++) {
        let t = w[e].querySelectorAll(".ramm-color__round");
        for (let e = 0; e < t.length; e++) {
            let n = t[e];
            n && n.addEventListener("click", (function (e) {
                for (let e = 0; e < t.length; e++) {
                    t[e].classList.remove("active")
                }
                n.classList.add("active");
                let o = n.querySelector(".color__round-hidden");
                b.textContent = o.textContent, e.preventDefault()
            }))
        }
    }
    $(".user-form__input").focus((function () {
        $(this).parent().addClass("focus")
    })).blur((function () {
        "" === $(this).val() && $(this).parent().removeClass("focus")
    })), $(".item-row__change").click((function (e) {
        e.preventDefault(), $(this).parent().toggleClass("bodytoggle"), $(this).data("status") ? ($(this).html("Изменить"), $(this).data("status", !1)) : ($(this).html("Отмена"), $(this).data("status", !0))
    })), $(document).ready((function () {
        $.each($(".checkbox"), (function (e, t) {
            1 == $(this).find("input").prop("checked") && $(this).addClass("active")
        })), $(document).on("click", ".checkbox", (function (e) {
            return $(this).hasClass("active") ? $(this).find("input").prop("checked", !1) : $(this).find("input").prop("checked", !0), $(this).toggleClass("active"), !1
        })), $.each($(".radiobuttons__item"), (function (e, t) {
            1 == $(this).find("input").prop("checked") && $(this).addClass("active");
        })), $(document).on("click", ".radiobuttons__item", (function (e) {
            return $(this).parents(".radiobuttons").find(".radiobuttons__item").removeClass("active"), $(this).parents(".radiobuttons").find(".radiobuttons__item input").prop("checked", !1), $(this).toggleClass("active"), $(this).find("input").prop("checked", !0), !1
        })), $.each($(".radiobuttons__item2"), (function (e, t) {
            1 == $(this).find("input").prop("checked") && $(this).addClass("active")
        })), $(document).on("click", ".radiobuttons__item2", (function (e) {
            return $(this).parents(".radiobuttons2").find(".radiobuttons__item2").removeClass("active"), $(this).parents(".radiobuttons2").find(".radiobuttons__item2 input").prop("checked", !1), $(this).toggleClass("active"), $(this).find("input").prop("checked", !0), !1
        }))
    }));
    document.querySelector(".spares-link");
    ! function (e) {
        let t = new Image;
        t.onload = t.onerror = function () {
            e(2 == t.height)
        }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"
    }((function (e) {
        let t = !0 === e ? "webp" : "no-webp";
        document.documentElement.classList.add(t)
    })),
    function () {
        let e = document.querySelector(".icon-menu");
        e && e.addEventListener("click", (function (e) {
            o && (((e = 500) => {
                let menuMobile = document.querySelector('.menu__mobile');
                let menuMobileSpares = document.querySelector('.spares-mobile');
                if (menuMobileSpares.classList.contains('open')) {
                    console.log('open')
                    menuMobile.classList.add('open')
                }
                document.documentElement.classList.contains("lock") ? i(e) : r(e)
            })(), document.documentElement.classList.toggle("menu-open"))
        }))
    }(),
    function () {
        const e = document.querySelectorAll("[data-spollers]");
        if (e.length > 0) {
            const o = Array.from(e).filter((function (e, t, n) {
                return !e.dataset.spollers.split(",")[0]
            }));
            o.length > 0 && r(o);
            const i = Array.from(e).filter((function (e, t, n) {
                return e.dataset.spollers.split(",")[0]
            }));
            if (i.length > 0) {
                const e = [];
                i.forEach((t => {
                    const n = {},
                        o = t.dataset.spollers.split(",");
                    n.value = o[0], n.type = o[1] ? o[1].trim() : "max", n.item = t, e.push(n)
                }));
                let t = e.map((function (e) {
                    return "(" + e.type + "-width: " + e.value + "px)," + e.value + "," + e.type
                }));
                t = t.filter((function (e, t, n) {
                    return n.indexOf(e) === t
                })), t.forEach((t => {
                    const n = t.split(","),
                        o = n[1],
                        i = n[2],
                        l = window.matchMedia(n[0]),
                        s = e.filter((function (e) {
                            if (e.value === o && e.type === i) return !0
                        }));
                    l.addEventListener("change", (function () {
                        r(s, l)
                    })), r(s, l)
                }))
            }

            function r(e, t = !1) {
                e.forEach((e => {
                    e = t ? e.item : e, t.matches || !t ? (e.classList.add("_spoller-init"), l(e), e.addEventListener("click", s)) : (e.classList.remove("_spoller-init"), l(e, !1), e.removeEventListener("click", s))
                }))
            }

            function l(e, t = !0) {
                const n = e.querySelectorAll("[data-spoller]");
                n.length > 0 && n.forEach((e => {
                    t ? (e.removeAttribute("tabindex"), e.classList.contains("_spoller-active") || (e.nextElementSibling.hidden = !0)) : (e.setAttribute("tabindex", "-1"), e.nextElementSibling.hidden = !1)
                }))
            }

            function s(e) {
                const o = e.target;
                if (o.hasAttribute("data-spoller") || o.closest("[data-spoller]")) {
                    const i = o.hasAttribute("data-spoller") ? o : o.closest("[data-spoller]"),
                        r = i.closest("[data-spollers]"),
                        l = !!r.hasAttribute("data-one-spoller");
                    r.querySelectorAll("._slide").length || (l && !i.classList.contains("_spoller-active") && a(r), i.classList.toggle("_spoller-active"), ((e, o = 500) => {
                        e.hidden ? n(e, o) : t(e, o)
                    })(i.nextElementSibling, 500)), e.preventDefault()
                }
            }

            function a(e) {
                const n = e.querySelector("[data-spoller]._spoller-active");
                n && (n.classList.remove("_spoller-active"), t(n.nextElementSibling, 500))
            }
        }
    }()
})();

// Берём текущую ширину экрана


document.addEventListener("DOMContentLoaded", ready);

function ready() {
    let preload = document.querySelector('.preload');
    let window = document.getElementById('body');
    let headerTop = document.querySelector('.top-header-main');
    // let headerTop2 = document.querySelector('.top-header-second');
    let menuMobile = document.querySelector('.body-header__menu');
    let menuActions = document.querySelector('.bottom-header');
    let catalogSidebar = document.querySelector('.catalog__sidebar');
    if (preload) {
        // var windowWidth = $(window).innerWidth();
        // console.log(windowWidth)
        menuActions.style.display = 'block';
        headerTop.style.display = 'block';
        // console.log(headerTop);
        menuMobile.style.display = 'block';
        // headerTop2.style.display = 'flex';

        window.classList.remove('preload')
    }
    if (catalogSidebar) {
        catalogSidebar.style.display = 'flex';
    }
}


$(window).on('load resize', function () {
    let headerTop = document.querySelector('.top-header-main');
    let headerTop2 = document.querySelector('.top-header-second');
    // Берём текущую ширину экрана
    var windowWidth = $(this).innerWidth();
    
    // Если ширина экрана меньше или равна mediaQuerySize(440)
    if (windowWidth >= 988) {
        // Инициализировать слайдер если он ещё не был инициализирован
        headerTop.style.display = 'block';

        // headerTop2.style.display = 'block';
    } else {
        // Уничтожить слайдер если он был инициализирован
        headerTop.style.display = 'flex';
        // headerTop2.style.display = 'flex';
        
    }
});


// OUT_ACCOUNT_BTN_START
if (document.querySelector('.sign-header__out')) {
    let outBtn = document.querySelector('.bottom-header__sign');
    let outLink = document.querySelector('.sign-header__out');
    if (outLink) {
        document.addEventListener('click', function (e) {
            if (e.target.closest('.bottom-header__sign')) {
                outLink.classList.add('active');
            } else if (!e.target.closest('.sign-header__out')) {
                outLink.classList.remove('active');
            }
        })
    }
}
// OUT_ACCOUNT_BTN_END



// SEARCH_BTN_START
if (document.querySelector('.form-header__btn')) {
    let searchBtn = document.querySelector('.form-header__btn');
    let formHeaderInput = document.querySelector('.form-header__input');
    if (searchBtn) {
        document.body.addEventListener('click', function (e) {
            if (e.target.closest('.form-header__btn')) {
                e.preventDefault();
                formHeaderInput.classList.add('open');
                searchBtn.classList.add('open');
            } else if (!e.target.closest('.form-header__input')) {
                // e.preventDefault();
                formHeaderInput.classList.remove('open');
                searchBtn.classList.remove('open');
            }
        })
    }
}
// SEARCH_BTN_END



// SORTING_CATALOG_LOGIC_START
if (document.querySelector('.catalog-wrap') || document.querySelector('.equipment-wrap')) {
    let sortDesctopBtn = document.querySelector('.sort-catalog__btn');
    let sortBody = document.querySelector('.change-sort-wrap');
    let sortBtn = document.querySelector('.btn-sort__filter');
    let sortBtnClose = document.querySelector('.header-sort__close');
    let sortChangeBtn = document.querySelector('.change-sort__btn-change');
    let sortCloseBtn = document.querySelector('.change-sort__btn-close');
    let sortShadow = document.querySelector('.header-sort__shadow');
    let sortDesctopImg = document.querySelector('.btn-sort__icon');
    let sortValue = document.querySelector('.btn-sort__name');
    let sortChangeValues = document.querySelectorAll('.radiobuttons__item');

    for (let index = 0; index < sortChangeValues.length; index++) {
        const sortChangeValue = sortChangeValues[index];
        if (sortChangeValues) {
            sortChangeValue.addEventListener('click', function () {
                sortValue.innerText = sortChangeValue.querySelector('.catalog-item-inp__name input').value
            })   
        }
        
    }
    if (sortShadow) {
        sortShadow.addEventListener('click', function () {
            sortBody.classList.remove('active');
            sortShadow.classList.remove('active');
            // document.querySelector("body").classList.remove("lock")
        })
    }
    
    if (sortBtn || sortDesctopBtn) {
        document.addEventListener('click', function (e) {
            let windowWidth = $(window).innerWidth();
            if (e.target.closest('.btn-sort__filter') || e.target.closest('.sort-catalog__btn')) {
                sortShadow.classList.add('active');
                sortBody.classList.add('active');
                // document.querySelector("body").classList.add("lock")
                if (sortDesctopImg) {
                    sortDesctopImg.classList.add('active');
                }
            }
            else if (!e.target.closest('.change-sort-wrap')
                
                || e.target.closest('.header-sort__close')
                || e.target.closest('.change-sort__btn-close')
                
                || e.target.closest('.change-sort__btn-change') || windowWidth >= 440 ) {
                sortBody.classList.remove('active');
                sortShadow.classList.remove('active');
                // document.querySelector("body").classList.remove("lock")
                if (sortDesctopImg) {
                    sortDesctopImg.classList.remove('active');
                }
            } 
    
            
        })
    }
}
// SORTING_CATALOG_LOGIC_END



// PHONE_INPUT_LOGIC_START
let phone = document.querySelector('.form__registration .user-form__input-phone');
let phone2 = document.querySelector('.user-form__input-phone-reg');
let phone3 = document.querySelector('.user-form__input-account-phone');
if (phone) {
    phone.addEventListener('blur', function () {
        document.querySelector('.form__registration .form__registration-inp-phone').classList.add('focus')
    })
}
if (phone2) {
    phone2.addEventListener('blur', function () {
        document.querySelector('.user-form__item-phone-reg').classList.add('focus')
    })
}
if (phone3) {
    phone3.addEventListener('blur', function () {
        document.querySelector('.change-body__label-account').classList.add('focus')
    })
}
// PHONE_INPUT_LOGIC_END



// PHONE_MASK_LOGIC_START
let inputs = document.querySelectorAll('input[type="tel"]')
if (inputs) {
    for (let index = 0; index < inputs.length; index++) {
        const input = inputs[index];
        let im = new Inputmask('+7 (999) 999-99-99', { autoUnmask: true });
        input.addEventListener('focus', function () {
            im.mask(input);
        })
        input.addEventListener('blur', function () {
        })
    }
}
// PHONE_MASK_LOGIC_END


// SPARES_MENU_LOGIC_START
if (document.querySelector('.header')) {
    let menuParents = document.querySelectorAll('.spares-window__item');
    let menuParentsLinks = document.querySelectorAll('.spares-window__link');
        for (let index = 0; index < menuParents.length; index++) {
            const menuParent = menuParents[index];
            menuParent.addEventListener("mouseenter", function () {
                menuParent.classList.add('active');
            });
            menuParent.addEventListener("mouseleave", function (e) {
                menuParent.classList.remove('active');
                
            });
        }
        for (let index = 0; index < menuParentsLinks.length; index++) {
            const menuParentsLink = menuParentsLinks[index];
            menuParentsLink.addEventListener("click", function (e) {
                e.preventDefault()
            })
        }
    let menuShadow = document.querySelector('.shadow-spares');
    let menuShadowLink = document.querySelector('.spares-link-pos');
    if (menuShadowLink) {
        menuShadowLink.addEventListener('mouseenter', function () {
            menuShadow.classList.add('active');
        }) 
        menuShadowLink.addEventListener('mouseleave', function () {
            menuShadow.classList.remove('active');
        })
    }
}
// SPARES_MENU_LOGIC_END


// PRODUCT_SIZE_LOGIC_START
if (document.querySelector('.product-wrap')) {
    let priductAdd = document.querySelector('.info-product__cart-btn');
    let priductCart = document.querySelector('.info-product__cart-link');
    let priductForm = document.querySelector('.info-product__form');
    let priductExistence = document.querySelector('.info-product__existence');
    let priductSizeItems = document.querySelectorAll('.sizes__item');
    let priductSizeItemHidden = document.querySelector('.sizes__item-hidden');
    if (priductSizeItems) {
        for (let index = 0; index < priductSizeItems.length; index++) {
            const priductSizeItem = priductSizeItems[index];
            priductSizeItem.addEventListener('click', function (e) {
                if (priductSizeItem.classList.contains('added')) {
                    priductAdd.classList.remove('active');
                } else {
                    priductAdd.classList.add('active');
                }
            })
        }
    }
    document.addEventListener('click', function (e) {
        if (e.target.closest('.sizes__item-hidden')) {
            priductForm.classList.add('active');
            if (e.target.closest('.sizes__item-hidden').classList.contains('added')) {
                priductAdd.classList.remove('active');
            } else {
                priductAdd.classList.add('active');
            }
            
            priductExistence.innerText = 'Под заказ';
        }
        if (e.target.closest('.sizes__item') && !e.target.closest('.sizes__item-hidden')) {
            priductForm.classList.remove('active');
            priductExistence.innerText = 'В наличии';
            if (!priductCart.classList.contains('active')) {
                priductAdd.classList.add('active');
            }
        }
        if (e.target.closest('.info-product__cart-btn')) {
            priductAdd.classList.remove('active');
            priductCart.classList.add('active');
            for (let index = 0; index < priductSizeItems.length; index++) {
                const priductSizeItem = priductSizeItems[index];
                if (priductSizeItem.classList.contains('active')) {
                    priductSizeItem.classList.add('added')
                }
            } 
        }
    })
}
// PRODUCT_SIZE_LOGIC_END


// INITIALIZATION_MAPS_START
if (document.querySelector('.contacts-wrap')) {
    let centerSpb = [59.974374, 30.324267];
    function init() {
        let map = new ymaps.Map('map-spb', {
            center: centerSpb,
            zoom: 17
        });
        let placemark = new ymaps.Placemark(centerSpb, {}, {
            iconLayout: 'default#image',
            iconImageHref: '../img/marker.png',
            iconImageSize: [40, 40],
            iconImageOffset: [-19, -44]
        });
        map.controls.remove('geolocationControl'); // удаляем геолокацию
        map.controls.remove('searchControl'); // удаляем поиск
        map.controls.remove('trafficControl'); // удаляем контроль трафика
        map.controls.remove('typeSelector'); // удаляем тип
        map.controls.remove('fullscreenControl'); // удаляем кнопку перехода в полноэкранный режим
        map.controls.remove('zoomControl'); // удаляем контрол зуммирования
        map.controls.remove('rulerControl'); // удаляем контрол правил
        // map.behaviors.disable(['scrollZoom']); // отключаем скролл карты (опционально)
        map.geoObjects.add(placemark);
    }
    ymaps.ready(init);
    let centerMos = [55.768502, 37.497908];
    function initMsk() {
        let mapMsk = new ymaps.Map('map-msk', {
            center: centerMos,
            zoom: 17
        });
        let placemark = new ymaps.Placemark(centerMos, {}, {
            iconLayout: 'default#image',
            iconImageHref: '../img/marker.png',
            iconImageSize: [40, 40],
            iconImageOffset: [-19, -44]
        });
        mapMsk.controls.remove('geolocationControl'); // удаляем геолокацию
        mapMsk.controls.remove('searchControl'); // удаляем поиск
        mapMsk.controls.remove('trafficControl'); // удаляем контроль трафика
        mapMsk.controls.remove('typeSelector'); // удаляем тип
        mapMsk.controls.remove('fullscreenControl'); // удаляем кнопку перехода в полноэкранный режим
        mapMsk.controls.remove('zoomControl'); // удаляем контрол зуммирования
        mapMsk.controls.remove('rulerControl'); // удаляем контрол правил
        // map.behaviors.disable(['scrollZoom']); // отключаем скролл карты (опционально)
        mapMsk.geoObjects.add(placemark);
    }
    ymaps.ready(initMsk);
}
// INITIALIZATION_MAPS_END



// CHANGE_MARKS_AND_MODELS_START
let changeMark = document.querySelector('.registration-mark__link-mark');
let changeMarkItems = document.querySelectorAll('.registration-mark__wrapper-marks .registration-mark__radio');
let changeModel = document.querySelector('.registration-mark__link-model');
let changeModelItems = document.querySelectorAll('.registration-mark__wrapper-models .registration-mark__radio');

if (changeMark || changeModel) {
    for (let index = 0; index < changeMarkItems.length; index++) {
        const changeMarkItem = changeMarkItems[index];
        
        changeMarkItem.addEventListener('click', function () {
            changeMark.innerText = changeMarkItem.querySelector('.registration-mark__wrapper-marks .registration-mark__radio input').value
        }) 
    }
    for (let index = 0; index < changeModelItems.length; index++) {
        const changeModelItem = changeModelItems[index];
        
        changeModelItem.addEventListener('click', function () {
            changeModel.innerText = changeModelItem.querySelector('.registration-mark__wrapper-models .registration-mark__radio input').value
        }) 
    }
}
// CHANGE_MARKS_AND_MODELS_END



// CHANGE_MARKS_AND_MODELS_IN_ACCOUNT_START

let changeMarkBtn = document.querySelector('.item-row__change-mark');
let changeSpoller = document.querySelector('.registration-mark__item');
if (changeMarkBtn) {
    changeSpoller.addEventListener('click', function () {
        changeMarkBtn.innerText = 'Отмена'
        if (changeSpoller.classList.contains('_spoller-active')) {
            changeMarkBtn.innerText = 'Изменить'
        }
    })
}
let changeModelBtn = document.querySelector('.item-row__change-model');
let changeModelSpoller = document.querySelector('.registration-models__item');
if (changeModelBtn) {
    changeModelSpoller.addEventListener('click', function () {
        changeModelBtn.innerText = 'Отмена'
        if (changeModelSpoller.classList.contains('_spoller-active')) {
            changeModelBtn.innerText = 'Изменить'
        }
    })
}
let changeMarkAcc = document.querySelector('.value__mark');
let changeMarkItemsAccs = document.querySelectorAll('.account-wrap .registration-mark__wrapper-marks .registration-mark__radio');
let changeModelkAcc = document.querySelector('.value__model');
let changeModelItemsAccs = document.querySelectorAll('.account-wrap .registration-mark__wrapper-models .registration-mark__radio');
// let changeModelAcc = document.querySelector('.registration-mark__link-model');
// let changeModelItemsAcc = document.querySelectorAll('.registration-mark__wrapper-models .registration-mark__radio');
if (changeMarkAcc) {
    for (let index = 0; index < changeMarkItemsAccs.length; index++) {
        const changeMarkItemsAcc = changeMarkItemsAccs[index];
        
        changeMarkItemsAcc.addEventListener('click', function () {
            changeMarkAcc.innerText = changeMarkItemsAcc.querySelector('.account-wrap .registration-mark__wrapper-marks .registration-mark__radio input').value
        }) 
    }
}
if (changeModelkAcc) {
    for (let index = 0; index < changeModelItemsAccs.length; index++) {
        const changeModelItemsAcc = changeModelItemsAccs[index];
        
        changeModelItemsAcc.addEventListener('click', function () {
            changeModelkAcc.innerText = changeModelItemsAcc.querySelector('.account-wrap .registration-mark__wrapper-models .registration-mark__radio input').value
        }) 
    }
}
// CHANGE_MARKS_AND_MODELS_IN_ACCOUNT_END


// PASSWORD_CHANGE_HIDDEN_START
let eyeBtnReg = document.querySelector('.form__registration-inp-pass .hidden__password');
let eyeBtnAuth = document.querySelector('.autorization__form-inp-pass .hidden__password');
if (eyeBtnReg || eyeBtnAuth) {
    eyeBtnReg.addEventListener('click', function () {
        let inputPassReg = document.querySelector('.form__registration-inp-pass input');
        let eyeParentReg = document.querySelector('.form__registration-inp-pass');
        eyeParentReg.classList.toggle('visible');
        if (inputPassReg.getAttribute('type') === 'password') {
            inputPassReg.setAttribute('type', 'text')
        } else {
            inputPassReg.setAttribute('type', 'password')
        }
    })
    eyeBtnAuth.addEventListener('click', function () {
        let inputPassAuth = document.querySelector('.autorization__form-inp-pass input');
        let eyeParentAuth = document.querySelector('.autorization__form-inp-pass');
        eyeParentAuth.classList.toggle('visible');
        if (inputPassAuth.getAttribute('type') === 'password') {
            inputPassAuth.setAttribute('type', 'text')
        } else {
            inputPassAuth.setAttribute('type', 'password')
        }
    })
}
// PASSWORD_CHANGE_HIDDEN_END




// VALIDATION_INPUTS_REGIST_BTN_DISABLED_START

function validEmail() {
    let email = document.querySelector('.forget__form .user-form__input');
    let forgetBtn = document.querySelector('.forget-bottom_btn');
    function validateEmail(email) {
        const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
        return EMAIL_REGEXP.test(email.value);
    }
    if (email.value != 0 && validateEmail(email)) {
        forgetBtn.classList.remove('disabled');
        forgetBtn.setAttribute('type', 'submit')
        forgetBtn.removeAttribute('disabled')
    } else {
        forgetBtn.classList.add('disabled');
        forgetBtn.setAttribute('type', '')
        forgetBtn.setAttribute('disabled', 'disabled')
    }
}
function validEmailAutorization() {
    let email = document.querySelector('.autorization__form .user-form__input-email');
    let pass = document.querySelector('.autorization__form .user-form__input-pass');
    let autorizationBtn = document.querySelector('.autorization__form .autorization-bottom_btn');
    function validateEmail(email) {
        const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
        return EMAIL_REGEXP.test(email.value);
    }
    if (email.value != 0 && validateEmail(email) && pass.value !=0) {
        autorizationBtn.classList.remove('disabled');
        autorizationBtn.setAttribute('type', 'submit')
        autorizationBtn.removeAttribute('disabled')
    } else {
        autorizationBtn.classList.add('disabled');
        autorizationBtn.setAttribute('type', '')
        autorizationBtn.setAttribute('disabled', 'disabled')
    }
}
function validRegistration() {
    let email = document.querySelector('.form__registration .user-form__input-email');
    let pass = document.querySelector('.form__registration .user-form__input-pass');
    let name = document.querySelector('.form__registration .user-form__input-truename');
    let phone = document.querySelector('.form__registration .user-form__input-phone');
    let checkFirst = document.querySelector('.order-conditions__check1');
    let checkSecond = document.querySelector('.order-conditions__check2')
    let registrationBtn = document.querySelector('.form__registration .registration-bottom_btn');

    function validateEmail(email) {
        const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
        return EMAIL_REGEXP.test(email.value);
    }

    if (email.value != 0 
        && checkFirst.checked 
        && checkSecond.checked
        && validateEmail(email) 
        && pass.value !=0 
        && name.value !=0 
        && phone.value.length === 10) {
        registrationBtn.classList.remove('disabled');
        registrationBtn.setAttribute('type', 'submit')
        registrationBtn.removeAttribute('disabled')
    } else {
        registrationBtn.classList.add('disabled');
        registrationBtn.setAttribute('type', '')
        registrationBtn.setAttribute('disabled', 'disabled')
    }
}
// VALIDATION_INPUTS_REGIST_BTN_DISABLED__END



// REGIATRATION_ORDER_LOGIC_START
let selfDeliveryStatus = true;
// console.log(selfDeliveryStatus)

if (document.querySelector('.registration-order-wrap')) {
    let deliveryForClients = document.querySelectorAll('.delivery_for_client');
    let selfDeliverys = document.querySelectorAll('.self-delivery');
    let formAdress = document.querySelector('.form-order__adress');
    let payInOffice = document.querySelector('.pay-in-office');
    let payBtns = document.querySelectorAll('.radiobuttons__item2');
    let deliveryType = document.querySelector('.order-delivery__type');
    let deliverySdek = document.querySelector('.delivery_sdek');
    let deliveryEms = document.querySelector('.delivery_ems');
    let deliverySum = document.querySelector('.order-delivery__sum');

    deliverySdek.addEventListener('click', function () {
        deliveryType.innerText = 'От WikiMoto до пункта выдачи СДЭК';
        deliverySum.innerText = '990 ₽';
    })
    deliveryEms.addEventListener('click', function () {
        deliveryType.innerText = 'EMS Russian Post';
        deliverySum.innerText = '990 ₽';
    })


    for (let index = 0; index < deliveryForClients.length; index++) {
        const deliveryForClient = deliveryForClients[index];
        deliveryForClient.addEventListener('click', function () {
            formAdress.classList.add('active');
            payInOffice.classList.add('pay-form__item-hidden');
            selfDeliveryStatus = true;
            console.log(selfDeliveryStatus)
            let adressFormInputs = document.querySelectorAll('.adress-form__input');
            adressFormInputs.forEach(element => {
                element.setAttribute("required", "required");
            });
            for (let index = 0; index < payBtns.length; index++) {
                const payBtn = payBtns[index];
                payBtn.classList.remove('active');
                payBtns[0].classList.add('active');
            }
            validRegistrationOrder();
            
        })
    }
    for (let index = 0; index < selfDeliverys.length; index++) {
        const selfDelivery = selfDeliverys[index];
        selfDelivery.addEventListener('click', function () {
            deliveryType.innerText = 'Самовывоз';
            deliverySum.innerText = '';
            formAdress.classList.remove('active');
            payInOffice.classList.remove('pay-form__item-hidden');
            selfDeliveryStatus = false;
            console.log(selfDeliveryStatus)
            
            let adressFormInputs = document.querySelectorAll('.adress-form__input');
            adressFormInputs.forEach(element => {
                element.removeAttribute("required", "required");
            });
            validRegistrationOrder();
        })
    }
}
// REGIATRATION_ORDER_LOGIC_END


// REGIATRATION_ORDER_PAY_START 
let cartPay = document.querySelector('.cart-pay');
let transferPay = document.querySelector('.transfer-pay');
let cashPay = document.querySelector('.cash-pay');
let typePay = document.querySelector('.order-pay__type');
if (cartPay) {
    cartPay.addEventListener('click', function () {
        typePay.innerText = 'Банковской картой'
    })
}
if (transferPay) {
    transferPay.addEventListener('click', function () {
        typePay.innerText = 'Оплата переводом';
    })
}
if (cashPay) {
    cashPay.addEventListener('click', function () {
        typePay.innerText = 'Оплата наличными';
    })
}

// REGIATRATION_ORDER_PAY_END



// VALIDATION_INPUTS_REGIST_ORDER_BTN_DISABLED_START
function validRegistrationOrder() {
    console.log('selfDeliveryStatus', selfDeliveryStatus);
    let email = document.querySelector('.user-form__input-email-regorder');
    let name = document.querySelector('.user-form__input-name-regorder');
    let phone = document.querySelector('.user-form__input-phone-reg');

    let index = true;
    let city = true;
    let adress = true;
    

    if (selfDeliveryStatus) {
        index = document.querySelector('.adress-form__input-index')?.value?.length;
        city = document.querySelector('.adress-form__input-city')?.value?.length;
        adress = document.querySelector('.adress-form__input-adres')?.value?.length;
        let maxLength = 6;
        if (index > maxLength) {
            index = index.slice(0, maxLength)
        }
        if (index < 6) {
            index = false
        }

    }


    let checkRegOrder = document.querySelector('.order-conditions__check-regorder');
    // let checkSecond = document.querySelector('.order-conditions__check2')
    let registrationBtn = document.querySelector('.registration-order-wrap .result-order__btn');

    function validateEmail(email) {
        const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
        return EMAIL_REGEXP.test(email.value);
    }

    if (email.value != 0 
        && index 
        && city
        && adress
        && checkRegOrder.checked
        && validateEmail(email) 
        && name.value !=0 
        && phone.value.length === 10) {
        registrationBtn.classList.remove('disabled');
        registrationBtn.setAttribute('type', 'submit')
        registrationBtn.removeAttribute('disabled')
    } else {
        registrationBtn.classList.add('disabled');
        registrationBtn.setAttribute('type', '')
        registrationBtn.setAttribute('disabled', 'disabled')
    }
}
// VALIDATION_INPUTS_REGIST_ORDER_BTN_DISABLED__END


// let menuMobile = document.querySelector('.menu__mobile');
// let menuMobileSpares = document.querySelector('.spares-mobile');

// if (menuMobile) {
//     if (menuMobileSpares.classList.contains('open')) {
//         console.log('open')
//         menuMobile.classList.add('open')
//     } else {
//         menuMobile.classList.remove('open')
//     }
// }





